(this.webpackJsonpreact_login_mongodb=this.webpackJsonpreact_login_mongodb||[]).push([[0],{40:function(e,t,s){},67:function(e,t,s){"use strict";s.r(t);var r=s(1),a=s.n(r),n=s(32),c=s.n(n),o=(s(40),s(0)),l=function(){return Object(o.jsx)("header",{className:"Header text-center",children:Object(o.jsx)("h1",{className:"",children:"Register-Login App MERN stack (react, node, express, MongoDB)"})})},i=s(2),j=s(12),m=s.n(j),b=s(35),d=s(18),u=s(3),O=s(10),h=s(19),p=s.n(h),g=s(9),x=Object(r.createContext)({}),f=function(e){var t=e.children,s=Object(r.useState)({nameError:"",emailError:"",passwordError:""}),a=Object(g.a)(s,2),n=a[0],c=a[1],l=Object(r.useState)({message:""}),i=Object(g.a)(l,2),j=i[0],b=i[1],u=Object(r.useState)(!1),O=Object(g.a)(u,2),h=O[0],f=O[1],v=Object(r.useState)([]),w=Object(g.a)(v,2),N=w[0],S=w[1],E=Object(r.useState)({name:"",email:"",password:""}),y=Object(g.a)(E,2),I=y[0],C=y[1],L=Object(r.useState)(!1),U=Object(g.a)(L,2),D=U[0],F=U[1],k=Object(r.useState)(!1),M=Object(g.a)(k,2),_=M[0],q=M[1],A=Object(r.useState)({name:"",email:"",password:""}),H=Object(g.a)(A,2),J=H[0],B=H[1],P=Object(r.useState)(!1),R=Object(g.a)(P,2),W=R[0],V=R[1],Y=Object(r.useState)(!1),z=Object(g.a)(Y,2),G=z[0],K=z[1],Q=Object(r.useState)({name:"",email:"",password:""}),T=Object(g.a)(Q,2),X=T[0],Z=T[1],$=Object(r.useState)({nameError:"",emailError:"",passwordError:""}),ee=Object(g.a)($,2),te=ee[0],se=ee[1];return Object(r.useEffect)((function(){var e=function(){var e=Object(d.a)(m.a.mark((function e(){var t,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("/api/route");case 3:t=e.sent,s=t.data,S(s.users),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),e.t0.response?(console.log(e.t0.response.data),console.log(e.t0.response.status),console.log(e.t0.response.headers)):console.log("Error: ".concat(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(o.jsx)(x.Provider,{value:{error:n,setError:c,loginMessage:j,setLoginMessage:b,users:N,setUsers:S,correctLogin:h,setCorrectLogin:f,loginDetails:I,setLoginDetails:C,errorFlag:D,setErrorFlag:F,submitted:_,setSubmitted:q,signInDetails:J,setSignInDetails:B,signInSubmitted:G,setSignInSubmitted:K,signInErrorFlag:W,setSignInErrorFlag:V,signInError:te,setSignInError:se,newUser:X,setNewUser:Z},children:t})},v=x,w=function(){var e=Object(r.useContext)(v),t=e.users,s=e.setUsers,a=e.signInErrorFlag,n=e.setSignInErrorFlag,c=e.signInSubmitted,l=e.setSignInSubmitted,j=e.signInDetails,h=e.setSignInDetails,g=e.signInError,x=e.setSignInError,f=e.newUser,w=e.setNewUser,N=Object(u.f)(),S=function(){var e=Object(d.a)(m.a.mark((function e(r){var a,n,c,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=j,e.prev=1,e.next=4,p.a.post("/api/route/save",a);case 4:n=e.sent,c=n.data,o=[].concat(Object(b.a)(t),[c.users]),s(o),localStorage.setItem("newListOfUsers",JSON.stringify(o)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),E=function(e){e.preventDefault(),console.log(j),function(){var e=j.name,t=j.email,s=j.password,r=!0;(e.trim().length<6||""===e)&&(x(Object(i.a)(Object(i.a)({},g),{},{nameError:"username must be higher than 6"})),r=!1);""===t&&(r=!1,x(Object(i.a)(Object(i.a)({},g),{},{emailError:"email cannot be empty"})));(s.trim().length<6||""===s)&&(r=!1,x(Object(i.a)(Object(i.a)({},g),{},{passwordError:"password must be higher than 6"})));return n(r),r}()&&(S(j),w(Object(i.a)(Object(i.a)({},f),{},{name:j.name})),l(!0),N.push("/welcome"),h({name:"",email:"",password:""}))};return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("section",{className:"",children:[Object(o.jsx)("h3",{className:"text-success mt-4 mb-3",children:"Sign Up"}),Object(o.jsxs)("div",{className:"container mt-5",children:[c&&a?Object(o.jsx)("div",{className:"alert alert-primary text-center",children:Object(o.jsx)("p",{children:"Submitted Successfully"})}):null,Object(o.jsxs)("form",{action:"",className:"row d-flex flex-column justify-content-center align-items-center",children:[Object(o.jsxs)("div",{className:"mb-3 col-md-5",children:[Object(o.jsx)("input",{type:"text",className:"form-control",id:"first-name",required:!0,name:"name",placeholder:"Name",value:j.name,onChange:function(e){return h(Object(i.a)(Object(i.a)({},j),{},{name:e.target.value}))}}),!a&&Object(o.jsx)("p",{style:{color:"red"},children:g.nameError})]}),Object(o.jsxs)("div",{className:"mb-3 col-md-5",children:[Object(o.jsx)("input",{type:"text",className:"form-control",id:"email",name:"email",required:!0,placeholder:"email",value:j.email,onChange:function(e){return h(Object(i.a)(Object(i.a)({},j),{},{email:e.target.value}))}}),!a&&Object(o.jsx)("p",{style:{color:"red"},children:g.emailError})]}),Object(o.jsxs)("div",{className:"mb-3 col-md-5",children:[Object(o.jsx)("input",{type:"password",className:"form-control",id:"password",name:"password",required:!0,placeholder:"password",value:j.password,onChange:function(e){return h(Object(i.a)(Object(i.a)({},j),{},{password:e.target.value}))}}),!a&&Object(o.jsx)("p",{style:{color:"red"},children:g.passwordError})]}),Object(o.jsx)("div",{className:"mb-3 col-md-5",children:Object(o.jsx)("button",{className:"btn btn-primary",onClick:function(e){return E(e)},children:"Submit"})})]})]}),Object(o.jsxs)("div",{className:"d-sm-flex align-items-center justify-content-between text-center lead",children:[Object(o.jsx)("small",{className:"me-4",children:"Already have an account ?"}),Object(o.jsx)("p",{className:"text-white",children:Object(o.jsx)(O.b,{to:"/login",children:Object(o.jsx)("button",{className:"btn btn-primary",children:"Log In"})})})]})]})})},N=function(){var e=new Date;return Object(o.jsx)("footer",{children:Object(o.jsxs)("p",{children:["Chima Ifeanyi \xa9 ",e.getFullYear()]})})},S=function(){return Object(o.jsxs)("section",{children:[Object(o.jsx)("h2",{children:"Page Not Found"}),Object(o.jsx)("p",{children:"Well, that's disappointing."}),Object(o.jsx)("p",{children:Object(o.jsx)(O.b,{to:"/",children:"Visit Our Homepage"})})]})},E=function(){var e=Object(r.useContext)(v),t=e.newUser,s=e.setNewUser;return Object(o.jsx)("section",{children:""!==t.name&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("h1",{children:"Hello"}),Object(o.jsx)("h2",{children:t.name}),Object(o.jsx)(O.b,{to:"/",children:Object(o.jsx)("button",{className:"btn btn-primary",onClick:function(){console.log("Logout"),s({name:"",email:""})},children:"Logout"})})]})})},y=function(){var e=Object(r.useContext)(v),t=e.submitted,s=e.setSubmitted,a=e.errorFlag,n=e.setErrorFlag,c=e.users,l=(e.setUsers,e.error),j=e.setError,m=e.loginMessage,b=e.setLoginMessage,d=e.correctLogin,h=e.newUser,p=e.setNewUser,g=e.setCorrectLogin,x=e.loginDetails,f=e.setLoginDetails,w=Object(u.f)(),N=function(e){e.preventDefault(),function(){var e=x.name,t=x.email,s=x.password,r=!0;(e.trim().length<6||""===e)&&(j(Object(i.a)(Object(i.a)({},l),{},{nameError:"username must be higher than 6"})),r=!1);""===t&&(r=!1,j(Object(i.a)(Object(i.a)({},l),{},{emailError:"email cannot be empty"})));(""===s||s.trim().length<6)&&(r=!1,j(Object(i.a)(Object(i.a)({},l),{},{passwordError:"password must be higher than 6"})));return n(r),r}()&&(!function(){var t=c.find((function(e){return e.name===x.name}));console.log(t);try{t.name===x.name&&t.email===x.email&&t.password===x.password?(b(Object(i.a)(Object(i.a)({},m),{},{message:"Welcome"})),g(!0),p(Object(i.a)(Object(i.a)({},h),{},{name:t.name})),w.push("/welcome"),f({name:"",email:"",password:""})):(b(Object(i.a)(Object(i.a)({},m),{},{message:"did not match"})),g(!1))}catch(e){console.log(e.message),console.log("error"),b(Object(i.a)(Object(i.a)({},m),{},{message:"Check Login details"})),g(!1)}}(),s(!0))};return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("section",{className:"",children:[Object(o.jsx)("h3",{className:"text-success mt-4 mb-3",children:"Log In"}),Object(o.jsxs)("div",{className:"container mt-2",children:[t&&!d&&Object(o.jsx)("div",{className:"alert alert-danger",children:m.message}),Object(o.jsxs)("form",{action:"",className:"row d-flex flex-column justify-content-center align-items-center",children:[Object(o.jsxs)("div",{className:"mb-3 col-md-5",children:[Object(o.jsx)("input",{type:"text",className:"form-control",id:"first-name",name:"name",placeholder:"Name",value:x.name,onChange:function(e){return f(Object(i.a)(Object(i.a)({},x),{},{name:e.target.value}))}}),!a&&Object(o.jsx)("p",{style:{color:"red"},children:l.nameError})]}),Object(o.jsxs)("div",{className:"mb-3 col-md-5",children:[Object(o.jsx)("input",{type:"text",className:"form-control",id:"email",name:"email",placeholder:"email",value:x.email,onChange:function(e){return f(Object(i.a)(Object(i.a)({},x),{},{email:e.target.value}))}}),!a&&Object(o.jsx)("p",{style:{color:"red"},children:l.emailError})]}),Object(o.jsxs)("div",{className:"mb-3 col-md-5",children:[Object(o.jsx)("input",{type:"password",className:"form-control",id:"password",name:"password",placeholder:"password",value:x.password,onChange:function(e){return f(Object(i.a)(Object(i.a)({},x),{},{password:e.target.value}))}}),!a&&Object(o.jsx)("p",{style:{color:"red"},children:l.passwordError})]}),Object(o.jsx)("div",{className:"mb-3 col-md-5",children:Object(o.jsx)("button",{className:"btn btn-primary",onClick:function(e){return N(e)},children:"Submit"})})]})]}),Object(o.jsxs)("div",{className:"d-sm-flex align-items-center justify-content-between text-center lead",children:[Object(o.jsx)("small",{className:"me-4",children:"Do not have an account ?"}),Object(o.jsx)("p",{className:"text-white",children:Object(o.jsx)(O.b,{to:"/",children:Object(o.jsx)("button",{className:"btn btn-primary",children:"Sign Up"})})})]})]})})};var I=function(){return Object(o.jsx)("div",{className:"App",children:Object(o.jsxs)(f,{children:[Object(o.jsx)(l,{}),Object(o.jsxs)(u.c,{children:[Object(o.jsx)(u.a,{path:"/",exact:!0,children:Object(o.jsx)(w,{})}),Object(o.jsx)(u.a,{path:"/login",exact:!0,children:Object(o.jsx)(y,{})}),Object(o.jsx)(u.a,{path:"/welcome",exact:!0,component:E}),Object(o.jsx)(u.a,{path:"*",component:S})]}),Object(o.jsx)(N,{})]})})};s(66);c.a.render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(O.a,{children:Object(o.jsx)(u.a,{path:"/",component:I})})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.040c799d.chunk.js.map